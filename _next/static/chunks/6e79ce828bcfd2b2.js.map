{"version":3,"sources":["turbopack:///[project]/components/ui/fade-in.tsx","turbopack:///[project]/components/facebook-comments.tsx"],"sourcesContent":["\"use client\"\n\nimport { motion, HTMLMotionProps } from \"framer-motion\"\nimport { ReactNode } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface FadeInProps extends HTMLMotionProps<\"div\"> {\n  children: ReactNode\n  delay?: number\n  duration?: number\n  className?: string\n  direction?: \"up\" | \"down\" | \"left\" | \"right\" | \"none\"\n}\n\nexport function FadeIn({\n  children,\n  delay = 0,\n  duration = 0.5,\n  className,\n  direction = \"up\",\n  ...props\n}: FadeInProps) {\n  const getInitial = () => {\n    switch (direction) {\n      case \"up\": return { opacity: 0, y: 40 }\n      case \"down\": return { opacity: 0, y: -40 }\n      case \"left\": return { opacity: 0, x: 40 }\n      case \"right\": return { opacity: 0, x: -40 }\n      case \"none\": return { opacity: 0 }\n      default: return { opacity: 0, y: 40 }\n    }\n  }\n\n  const getAnimate = () => {\n    switch (direction) {\n      case \"up\": return { opacity: 1, y: 0 }\n      case \"down\": return { opacity: 1, y: 0 }\n      case \"left\": return { opacity: 1, x: 0 }\n      case \"right\": return { opacity: 1, x: 0 }\n      case \"none\": return { opacity: 1 }\n      default: return { opacity: 1, y: 0 }\n    }\n  }\n\n  return (\n    <motion.div\n      initial={getInitial()}\n      whileInView={getAnimate()}\n      viewport={{ once: true, margin: \"-50px\" }}\n      transition={{ duration, delay, ease: \"easeOut\" }}\n      className={cn(className)}\n      {...props}\n    >\n      {children}\n    </motion.div>\n  )\n}\n","\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useTheme } from \"next-themes\";\n\ndeclare global {\n  interface Window {\n    FB: {\n      XFBML: {\n        parse: (node?: HTMLElement) => void;\n      };\n      init: (options: any) => void;\n    };\n    fbAsyncInit: () => void;\n  }\n}\n\ninterface FacebookCommentsProps {\n  url: string;\n}\n\nexport function FacebookComments({ url }: FacebookCommentsProps) {\n  const { theme } = useTheme();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // 1. Ensure fb-root exists\n    if (!document.getElementById(\"fb-root\")) {\n      const fbRoot = document.createElement(\"div\");\n      fbRoot.id = \"fb-root\";\n      document.body.appendChild(fbRoot);\n    }\n\n    // 2. Load SDK if not present\n    if (!document.getElementById(\"facebook-jssdk\")) {\n      const script = document.createElement(\"script\");\n      script.id = \"facebook-jssdk\";\n      script.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v24.0\";\n      script.async = true;\n      script.defer = true;\n      script.crossOrigin = \"anonymous\";\n      \n      // Handle load event\n      script.onload = () => {\n        setIsLoaded(true);\n      };\n\n      document.body.appendChild(script);\n    } else {\n      // Already present\n      setIsLoaded(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    // 3. Parse XFBML when URL/theme changes or SDK loads\n    if (isLoaded && window.FB && containerRef.current) {\n      // Re-parse the specific container to render comments\n      window.FB.XFBML.parse(containerRef.current);\n    }\n  }, [url, theme, isLoaded]);\n\n  return (\n    <div className=\"mt-16 pt-8 border-t border-border w-full\" ref={containerRef}>\n      <h3 className=\"text-2xl font-bold mb-6\">Discussion</h3>\n      \n      {/* Container with min-height to prevent layout shift or invisibility */}\n      <div className=\"min-h-[200px] w-full relative bg-background/50 rounded-lg\">\n        {/* Fallback/Loading State */}\n        <div className=\"absolute inset-0 flex items-center justify-center text-muted-foreground text-sm pointer-events-none -z-10\">\n          Loading comments...\n        </div>\n\n        <div \n          className=\"fb-comments\" \n          data-href={url} \n          data-width=\"100%\" \n          data-numposts=\"5\" \n          data-colorscheme={theme === \"dark\" ? \"dark\" : \"light\"}\n          data-lazy=\"true\"\n        />\n      </div>\n      \n      <p className=\"text-xs text-muted-foreground mt-4 text-center\">\n        Facebook Comments are used for this discussion. If you don't see them, please disable your ad blocker for this page.\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wJAEA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAUO,SAAS,EAAO,CACrB,UAAQ,OACR,EAAQ,CAAC,UACT,EAAW,EAAG,WACd,CAAS,WACT,EAAY,IAAI,CAChB,GAAG,EACS,EAuBZ,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAxBM,KACjB,OAAQ,GACN,IAAK,KAKL,QALW,MAAO,CAAE,QAAS,EAAG,EAAG,EAAG,CACtC,KAAK,OAAQ,MAAO,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,CACzC,KAAK,OAAQ,MAAO,CAAE,QAAS,EAAG,EAAG,EAAG,CACxC,KAAK,QAAS,MAAO,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,CAC1C,KAAK,OAAQ,MAAO,CAAE,QAAS,CAAE,CAEnC,EACF,IAgBI,YAAa,CAdE,KACjB,OAAQ,GACN,IAAK,KACL,IAAK,OAIL,QALW,MAAO,CAAE,QAAS,EAAG,EAAG,CAAE,CAErC,KAAK,OACL,IAAK,QADQ,MAAO,CAAE,QAAS,EAAG,EAAG,CAAE,CAEvC,KAAK,OAAQ,MAAO,CAAE,QAAS,CAAE,CAEnC,CACF,KAMI,SAAU,CAAE,MAAM,EAAM,OAAQ,OAAQ,EACxC,WAAY,CAAE,iBAAU,EAAO,KAAM,SAAU,EAC/C,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,GACb,GAAG,CAAK,UAER,GAGP,gECtDA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAkBO,SAAS,EAAiB,KAAE,CAAG,CAAyB,EAC7D,GAAM,CAAE,OAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,IACZ,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,MACtC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAuCzC,MArCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,GAAI,CAAC,SAAS,cAAc,CAAC,WAAY,CACvC,IAAM,EAAS,SAAS,aAAa,CAAC,OACtC,EAAO,EAAE,CAAG,UACZ,SAAS,IAAI,CAAC,WAAW,CAAC,EAC5B,CAGA,GAAK,CAAD,QAAU,cAAc,CAAC,kBAgB3B,EAAY,QAhBkC,CAC9C,IAAM,EAAS,SAAS,aAAa,CAAC,UACtC,EAAO,EAAE,CAAG,iBACZ,EAAO,GAAG,CAAG,kEACb,EAAO,KAAK,EAAG,EACf,EAAO,KAAK,CAAG,GACf,EAAO,WAAW,CAAG,YAGrB,EAAO,MAAM,CAAG,KACd,GAAY,EACd,EAEA,SAAS,IAAI,CAAC,WAAW,CAAC,EAC5B,CAIF,EAAG,EAAE,EAJI,AAMT,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEJ,GAAY,OAAO,EAAE,EAAI,EAAa,OAAO,EAE/C,AAFiD,OAE1C,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAa,OAAO,CAE9C,EAAG,CAAC,EAAK,EAAO,EAAS,EAGvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CAA2C,IAAK,YAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,eAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qHAA4G,wBAI3H,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,cACV,YAAW,EACX,aAAW,OACX,gBAAc,IACd,mBAA4B,SAAV,EAAmB,OAAS,QAC9C,YAAU,YAId,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0DAAiD,2HAKpE"}